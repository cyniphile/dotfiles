HISTCONTROL=ignoreboth:erasedups


[[ $- == *i* ]] && stty intr ^n

if (( $COLUMNS >= 100)); then
    fortune -s | hsterminal
fi

# Alias definitions.
if [ -f ~/.bash_aliases ]; then
    . ~/.bash_aliases
fi

# fixes mac forking problems: 
# https://blog.phusion.nl/2017/10/13/why-ruby-app-servers-break-on-macos-high-sierra-and-what-can-be-done-about-it/
export OBJC_DISABLE_INITIALIZE_FORK_SAFETY=YES 

export FZF_DEFAULT_COMMAND='fd --type file --hidden --follow --exclude .git'

function join () {
    echo "$*"
}

function quick_grep() {
   args=$(echo "$*")
   if [ "$args" = "" ]
   then
      return 1
   fi
   vi -c "Ack!'$args'"
}

# open fuzzy finder, search for files, use default program to open 
# and cd to dir of file
function smart_open() {
    args=$(echo "$*")
    if [ "$args" = "" ]
    then
        return 1
    fi
    file_kind=$(xdg-mime query filetype $args | xargs xdg-mime query default)
    if [ "$file_kind" = "sublime_text.desktop" ] || [ "$file_kind" = "" ] || [ "$file_kind" = "atom.desktop" ] || [ "$file_kind" = "gvim.desktop" ]
    then
        vi "$args"
    else
        open "$args"
    fi
}

function smart_cd() {
   args=$(echo "$*")
   dir=$(dirname "$args") && cd "$dir"
}

export NVIM_TUI_ENABLE_CURSOR_SHAPE=1

PATH="/usr/local/bin/ctags:$PATH"
export PATH

